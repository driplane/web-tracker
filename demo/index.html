<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <input id="token" placeholder="Your Token">
  <input id="server" placeholder="https://data.driplane.io">
  <button id="setToken">Set Config</button>

  <button id="trackPV">Track PageView</button>
  <script type="module">
    import { init } from './driplane.js';

    let trackPageview = () => console.warn('set credentials first');

    document.getElementById('setServer').addEventListener('click', (ev) => {
      setServer(document.getElementById('server').value);
    })

    document.getElementById('setToken').addEventListener('click', (ev) => {
      trackPageview = (document.getElementById('token').value, document.getElementById('server').value).trackPageview;
    })

    document.getElementById('trackPV').addEventListener('click', () => {
      trackPageview();
      console.log('Pageview track queued.');
    })

  </script>

  <a href="./auto-track.html">Auto tracking example</a>
</body>
</html>
